<!DOCTYPE html>
<title>Inscription</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="../css/inscriptionEDUC.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&family=Suez+One&display=swap" rel="stylesheet">
<html>
<main>
  <div class="topnav">
    <a href="../index.php" ><img class="logo"  src="../photo/logo1.png"></a>

   

    <a href="../index.php#organisme" class="direction">Organisateur de formations</a>
    <a  href="../index.php#formateurs" class="direction">FORMATEURS</a>

   <a id="connexion" class="aWhite" onclick="openLoginForm()">SE CONNECTER</a>
   <div id="formTrainers">


<div class="popup-overlay"></div>
<div class="popup">
  <div class="popup-close" onclick="closeLoginForm()">×</div>
  <div class="">
    <div class="avatar">
      <img src="https://bit.ly/31pHqJb" alt="">
    </div>
    <div class="header">
      Connexion formateur
    </div>
    <form >
      <input type="text" placeholder="Adresse-mail" id="mail" />
      <input type="password" placeholder="mot de passe" name="Password" id="password"/>
 
      <a>Voir mot de passe.</a>
      <input type="checkbox" onclick="showMDP()">
      
       <a id="reponse"></a>
    </form>
    <button class="aOrange" onclick="connexion()" id="btnCO">Comfirm login</button>
   <p class="message">Pas de compte? <a href="inscription.html">Créer un compte!</a></p>
      <p class="message">Vous etes responsable pédagogique ? <a href="connexionEDUC.html">Connectez-vous ici !</a></p>
  </div>
</div>
   </div>
   
    <a  id="inscription" href="inscription.html" class="aOrange" >S'INSCRIRE</a>
  </div>




  <div class="topnav2">
    <a href="../index.php" ><img class="logo"  src="../photo/logo1.png"></a>
    <div class="dropdown">
      <img class="menu"  src="../photo/menu.png">

      <div class="dropdown-content">
      
    <a href="../index.php#organisme" class="direction">Organisateur de formations</a>
    <a  href="../index.php#formateurs" class="direction">FORMATEURS</a>

    
        <a id="" class="" onclick="openLoginForm()">SE CONNECTER</a>
      </div>
    </div>

    <div class="popup-overlay"></div>
<div class="popup">
  <div class="popup-close" onclick="closeLoginForm()">×</div>
  <div class="form2">
    <div class="avatar">
      <img src="https://bit.ly/31pHqJb" alt="">
    </div>
    <div class="header">
      Connexion formateur
    </div>
    <form >
      <input type="text" placeholder="Adresse-mail" id="mail3" />
      <input type="password" placeholder="mot de passe" name="Password" id="password3"/>
      
      <a>Voir mot de passe.</a>
      <input type="checkbox" onclick="showMDP3()">
      
       <a id="reponse2"></a>
    </form>
    
    <button class="aOrange" onclick="connexion2()" id="btnCO">Comfirm login</button>
    <p class="message">No account? <a href="inscription.html">Create an account!</a></p>
      <p class="message">Vous etes responsable pédagogique ? <a href="connexionEDUC.html">Connectez-vous ici !</a></p>
   
  </div>
</div>
  </div>

<div class="register-page">
   
    <div class="form" >
         <h1 id="titre">Inscription responsable pédagogique</h1>
      <form  action="../modeles/inscriptionEDUC.php" method="post"  >
        <input type="text" placeholder="Prénom" id="FirstName" name="FirstName"  />
        <input type="text" placeholder="Nom" id="Surname"  name="Surname"/>
        <input type="text" placeholder="Adresse-mail" id="Mail" name="Mail" />
        <input type="" placeholder="Poste" id="" name="Poste"/>
        <select name="prefix" id="prefix">
          <option value="+590">(+590) GP</option>
          <option value="+33">(+596) MQ</option>
          <option value="+33">(+33) FR</option>
         
      </select>
        <input type="number" placeholder="téléphone" id="Phone" name="Phone"/>
      
       
      
          <input type="password" placeholder="mot de passe" id="password1"/>
          <input type="password" placeholder="Comfirmer mot de passe" id="password2" name="Password"/>
          <a>Voir mot de passe.</a>
          <input type="checkbox" onclick="showMDP2()">
         
          
        <button id="submit" class="btn aWhite" >Comfirm registration</button>
        
      </form> 
       <button id="verification" class="btn aOrange" onclick="verification()">Verification</button>
      <a id="messageCHECK"></a>
    
      </div>
    </div>
  </div>


  
<div class="footer">
 

  <div class="entreprise">
    <img class="logoFooter"  src="../photo/logoMJmetrix.png">
    <p>Site réalisé par MJ METRIX</p>
    <p>Agence digitale en Guadeloupe & Martinique</p>
  </div>
  
 
  <div class="contact">
    
    <p>Rejoignez-nous sur les réseaux </p>
    <a onclick= 'window.open ("https://www.facebook.com/realmjmetrix")' ><img class="logoSocial"  src="../photo/facebook.png"></a>
    <a onclick= 'window.open ("https://www.google.com/maps/place/MJ+Metrix+-+Agence+digitale+en+Guadeloupe/@16.241951,-61.5702357,17z/data=!3m1!4b1!4m5!3m4!1s0x8c13453310392ccf:0xd1bf5097a38d7599!8m2!3d16.241951!4d-61.568047")' ><img class="logoSocial"  src="../photo/google.png"></a>
  </div>




</div>

  </html>
  <script>
   

 btnSubmit = document.getElementById('submit');
 btnSubmit.style.display = "none";
 btnVerification = document.getElementById('verification');




 /*
Cette fonction vérifie chaque champs du formulaire d'inscription

exemple : si le champs pour le mail est bien comforme a un mail ou si les mots de passe sont similaire etc
et si un champs n'est pas bon un méssage s'affichera et ce champs incorrect aura ces bordure renforcée et de couleur rouge 


 */

 function verification() {

var valider = true;
  if (document.getElementById('FirstName').value == "") {
            document.getElementById('FirstName').style.border = "1px solid red";
            valider = false
  }else {document.getElementById('FirstName').style.border = "none";}

  

  if (document.getElementById('Surname').value == "") {
        document.getElementById('Surname').style.border = "1px solid red";
        valider = false
          }else {document.getElementById('Surname').style.border = "none"; }

        var reg = /^([a-zA-Z]|[0-9]|.?)*@[a-z]*.[a-z]{2,3}$/gm;


        var testMail = reg.test(String(document.getElementById("Mail").value));
         if (testMail == false) {
          document.getElementById("Mail").style.border = "1px solid red";
          valider = false
       }else {document.getElementById('Mail').style.border = "none"; }


       phone = document.getElementById("Phone").value;
       if (phone.length != 9) {
        document.getElementById("Phone").style.border = "1px solid red";
            valider = false
            alert("la longeur du numero de numéro de téléphone est supérieur a 9, ne mettez pas le premier zero du numéro de téléphone")
        }else {document.getElementById('Phone').style.border = "none"; }


       if (document.getElementById("password1").value == "")
        {
          document.getElementById("password1").style.border = "1px solid red";
            valider = false
        }else {document.getElementById('password1').style.border = "none"; }


        if (document.getElementById("password1").value != document.getElementById("password2").value) {
            alert("passwords are not similar")
            document.getElementById("password1").style.border = "1px solid red";
            document.getElementById("password2").style.border = "1px solid red";
            valider = false
        }
        else {document.getElementById('password1').style.border = "none";
              document.getElementById('password2').style.border = "none";
      }

        
        if(valider == true){

        
          btnVerification.style.display = "none";
          btnSubmit.style.display = "block";
          var x, i;
        x = document.querySelectorAll("input");
        for (i = 0; i < x.length; i++) {
        x[i].readOnly = true;
  }
  document.getElementById("messageCHECK").innerHTML = "All information is correct you can confirm your registration,box modification is disabled."
        }
        else {
          alert("some fields are not filled in or do not comply")
        }



 }
/*

cette fonction sers a ajoutez une manière enseignez par le formateurs qui est entrain de s'inscrire.
Pour pouvoir ajoutez des matieres enseigner il faut que tous les champs de la matière precedentes sois renseigné avant, sinon un message d'erreur s'affichera indiquant a l'utilisateur
qu'ils n'as pas remplie un champs obligatoire.
le formateur peux ajoutez jusqu'a 3 matiere.
Arriver a 3 le bouton permettant d'ajoutez des matiere des ce désactivera.
Aussi a chaque fois que le formateur clique sur le bouton pour ajoutez des matieres la matière precedemment remplie ce mettera en read only c'est a dire qu'elle ne sera pas modifiable 


*/

 function connexion() {

var xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      if(this.responseText ==  "error"){
        document.getElementById('reponse').innerHTML = "mot de passe ou adresse mail incorrect";
        
      }
      else{
        alert('connexion reussi');
        window.location.href = "acceuil_connecte.html";
      }
     
    }
  };
  xmlhttp.open("GET", "../modeles/connexion.php?mail="+document.getElementById('mail').value+"&mdp="+document.getElementById('password').value, true);
  xmlhttp.send();

}



function connexion2() {

var xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      if(this.responseText ==  "error"){
        document.getElementById('reponse2').innerHTML = "mot de passe ou adresse mail incorrect";
        
      }
      else{
        alert('connexion reussi');
        window.location.href = "acceuil_connecte.html";
      }
     
    }
  };
  xmlhttp.open("GET", "../modeles/connexion.php?mail="+document.getElementById('mail3').value+"&mdp="+document.getElementById('password3').value, true);
  xmlhttp.send();

}
  

//les 3 fonction suivante servent a affiché le mot de passe en toute lettres, de passer le type de l'input de password a text  
function showMDP() {

var x = document.getElementById("password");
if (x.type === "password") {
  x.type = "text";
} else {
  x.type = "password";
}



}

function showMDP2() {

var x = document.getElementById("password1");
if (x.type === "password") {
  x.type = "text";
} else {
  x.type = "password";
}

var x = document.getElementById("password2");
if (x.type === "password") {
  x.type = "text";
} else {
  x.type = "password";
}
}

function showMDP3() {

var x = document.getElementById("password3");
if (x.type === "password") {
  x.type = "text";
} else {
  x.type = "password";
}
}
//Cette fonction sers a faire apparaitre l'encadrée de connexion
  function openLoginForm(){
    document.body.classList.add("showLoginForm");
  }
  //Cette fonction sers a faire disparaitre l'encadrée de connexion
  function closeLoginForm(){
    document.body.classList.remove("showLoginForm");
  }



  </script>
